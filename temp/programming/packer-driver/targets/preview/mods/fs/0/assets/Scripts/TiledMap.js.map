{"version":3,"sources":["file:///D:/Craft-Monsters/Craft-Monsters/assets/Scripts/TiledMap.ts"],"names":["_decorator","Component","director","GameManager","ccclass","property","TiledMap","start","on","GameState","TILE_MOVE","_setMovement","GAME_WIN","GAME_OVER","update","dt","_moving","pos","node","getPosition","y","setPosition","moving"],"mappings":";;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,Q,OAAAA,Q;;AACnCC,MAAAA,W,gBAAAA,W;;;;;;;AACDC,MAAAA,O,GAAsBJ,U,CAAtBI,O;AAASC,MAAAA,Q,GAAaL,U,CAAbK,Q;;0BAGJC,Q,WADZF,OAAO,CAAC,UAAD,C;;;;;;;;;;;;oEAGuB,K;;mEACF,C;;;;;;;eAGzBG,K,GAAA,iBAAS;AAAA;;AACLL,UAAAA,QAAQ,CAACM,EAAT,CAAY;AAAA;AAAA,0CAAYC,SAAZ,CAAsBC,SAAlC,EAA6C,YAAM;AAAC,YAAA,MAAI,CAACC,YAAL,CAAkB,IAAlB;AAAwB,WAA5E,EAA8E,IAA9E;AACAT,UAAAA,QAAQ,CAACM,EAAT,CAAY;AAAA;AAAA,0CAAYC,SAAZ,CAAsBG,QAAlC,EAA4C,YAAM;AAAC,YAAA,MAAI,CAACD,YAAL,CAAkB,KAAlB;AAAyB,WAA5E,EAA8E,IAA9E;AACAT,UAAAA,QAAQ,CAACM,EAAT,CAAY;AAAA;AAAA,0CAAYC,SAAZ,CAAsBI,SAAlC,EAA6C,YAAM;AAAC,YAAA,MAAI,CAACF,YAAL,CAAkB,KAAlB;AAAyB,WAA7E,EAA+E,IAA/E;AACH,S;;eAGDG,M,GAAA,gBAAOC,EAAP,EAAmB;AACf,cAAI,KAAKC,OAAT,EAAkB;AACd,gBAAIC,GAAS,GAAG,KAAKC,IAAL,CAAUC,WAAV,EAAhB;AACAF,YAAAA,GAAG,CAACG,CAAJ,IAAS,KAAKL,EAAd;AACA,iBAAKG,IAAL,CAAUG,WAAV,CAAsBJ,GAAtB;AACH;AACJ,S;;eAGON,Y,GAAR,sBAAqBW,MAArB,EAAsC;AAClC,eAAKN,OAAL,GAAeM,MAAf;AACH,S;;;QAxByBrB,S","sourcesContent":["\r\nimport { _decorator, Component, Node, Vec3, director, log } from 'cc';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TiledMap')\r\nexport class TiledMap extends Component {\r\n    \r\n    private _moving: boolean = false\r\n    private _timer: number = 0\r\n\r\n\r\n    start () {\r\n        director.on(GameManager.GameState.TILE_MOVE, () => {this._setMovement(true)}, this)\r\n        director.on(GameManager.GameState.GAME_WIN, () => {this._setMovement(false)}, this)\r\n        director.on(GameManager.GameState.GAME_OVER, () => {this._setMovement(false)}, this)\r\n    }\r\n\r\n\r\n    update(dt: number) {\r\n        if (this._moving) {\r\n            let pos: Vec3 = this.node.getPosition()\r\n            pos.y += 50 * dt\r\n            this.node.setPosition(pos)\r\n        }\r\n    }\r\n\r\n\r\n    private _setMovement(moving: boolean) {\r\n        this._moving = moving\r\n    }\r\n\r\n}"]}